<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>kwc-share-detail demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../../bower_components/kwc-button/kwc-button.html">    
    <link rel="import" href="../../kwc-animations/kwc-particle-burst.html">
    <link rel="import" href="../kwc-share-detail.html">

    <custom-style>
        <style is="custom-style" include="demo-pages-shared-styles"></style>
        <style>
            .share-detail {
                min-width: 90%
            }
            .cta {
                position: relative;
                top:20px;
                height: 60px;
                max-width: 430px;
                margin:auto;
                border-radius: 8px;
                background-color: #ffffff;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0 15px;

            }
            .cta-text {
                display: inline-block;
                font-family: var(--font-body);
                font-weight: bold;
            }
        </style>
    </custom-style>
</head>

<body>
    <div class="vertical-section-container share-detail centered">
        <h3>Basic kwc-share-detail demo</h3>
        <demo-snippet>
            <template>
                <kwc-share-detail id="share-detail">
                    <div slot="player::before" class="cta">
                        <div class="cta-text">Why learn code?</div>
                        <kwc-button class="cta-button"
                                    size="small"
                                    on-tap="_handleCTATap">
                            Start
                        </kwc-button>
                    </div>
                </kwc-share-detail>
                <script>
                    document.addEventListener('WebComponentsReady', function () {
                        const detail = document.querySelector('#share-detail');
                        detail.shareData = SHAREDATA;
                        detail.comments = COMMENTS;
                        detail.likes = SHAREDATA.likes;
                        detail.currentUser = USER;
                        detail.featured = SHAREDATA.featured;
                        detail.addEventListener('view-user', function(e){
                            alert(`View user ${e.detail.id}`);
                        });
                        detail.addEventListener('action-click', function(e){
                            alert(`Someone clicked on ${e.detail.action}`);
                        });
                        detail.addEventListener('social-share', function(e){
                            alert(`Someone clicked on ${e.detail.action}`);
                        });
                    });
                </script>
            </template>
        </demo-snippet>
    </div>
    <script>
        const COMMENTS = {
            "entries": [{
                "id": "597705341ad1b7228593511c",
                "author": {
                    "id": "59402bb7c511000a713e2d45",
                    "username": "jonas12345",
                    "joined": "2017-06-13T18:15:19.035Z"
                },
                "text": "This is a another really long comment, This is a another really long comment, This is a another really long comment, This is a another really long comment, This is a another really long comment, ",
                "date_created": "2017-07-25T08:45:40.812Z",
                "flags": []
            }, {
                "id": "597703d71ad1b72285935108",
                "author": {
                    "id": "59402bb7c511000a713e2d45",
                    "username": "jonas12345",
                    "admin_level": 0,
                    "joined": "2017-06-13T18:15:19.035Z"
                },
                "text": "fun with comments",
                "date_created": "2017-07-25T08:39:51.349Z",
                "flags": []
            }, {
                "id": "597703a994e3ff22866cd79c",
                "author": {
                    "id": "59402bb7c511000a713e2d45",
                    "username": "jonas12345",
                    "admin_level": 0,
                    "joined": "2017-06-13T18:15:19.035Z"
                },
                "text": "testing comments",
                "date_created": "2017-07-25T08:39:05.119Z",
                "flags": []
            }],
            "page": null,
            "limit": 3,
            "count": 3
        },
        SHAREDATA = {
            "id": "595a6c169f797577bd72bd70",
            "app": "make-apps",
            "attachments": {
                "attachment_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/attachments/595a6c169f797577bd72bd70.html",
                "cover_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/covers/595a6c169f797577bd72bd70.png",
                "lightboard_spritesheet_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/lightboard-spritesheets/595a6c169f797577bd72bd70.png",
                "workspace_info_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/workspace-info/595a6c169f797577bd72bd70.json"
            },
            "slug": "mr-jump-man_1",
            "hardware": [
                {
                    "product": "lightboard"
                }
            ],
            "cover_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/covers/595a6c169f797577bd72bd70.png",
            "attachment_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/attachments/595a6c169f797577bd72bd70.html",
            "workspace_info_url": "https://s3-eu-west-1.amazonaws.com/world.kano.me.staging/share-items/workspace-info/595a6c169f797577bd72bd70.json"
        }
        USER = {
            "username": "nectarsoft",
            "id": "5970adcc1ad1b72285933ef5",
            "avatar": "https://s3.amazonaws.com/kano-avatars/default-avatar.svg"
        }
    </script>
</body>

</html>